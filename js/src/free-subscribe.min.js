const form=document.getElementById('free-download')
const subscribe=(email,product)=>{const xhr=new XMLHttpRequest()
xhr.open('POST','https://api.coreui.io/free/subscribe.php',true)
xhr.onreadystatechange=()=>{if(xhr.readyState===4&&xhr.status===200){createAlert(form,'success','The link to download was sent to your email.')}else{createAlert(form,'danger','Something went wrong, please try one more time')}}
xhr.send(JSON.stringify({'email':email,'product':product}))}
form.addEventListener('submit',event=>{event.preventDefault()
subscribe(event.target.elements['email'].value,event.target.elements['product'].value)},true)
let supportActive
let supportLevel
const createAlert=(target,type,message)=>{Array.from(target.getElementsByClassName('alert')).forEach(element=>element.remove())
const alert=document.createElement('div')
alert.classList.add('alert',`alert-${type}`)
alert.innerHTML=message
if(type==='success'){target.innerHTML=''}
target.appendChild(alert)}